version: "3.4"
services:
  api:
    image: api:dummy
    # image: zelejs/api:dummy
    privileged: true
    working_dir: /var/webapps
    environment: 
      #GREENFIELD: dummy
      JAVA_OPTS: "$JAVA_OPTS -agentlib:jdwp=transport=dt_socket,address=*:5005,server=y,suspend=n"
      URL_SHORT: 192.168.3.239:3306/dummy
      USERNAME: root
      PASSWORD: root
      ROLLBACK_KEEP_NUM: 2
    volumes: 
      - /etc/localtime:/etc/localtime:ro
      - /var/api:/var/webapps
      - /var/api/lib:/var/webapps/lib
    logging:
      driver: "json-file"
      options:
        max-size: "5m"
    ports: 
      - 8080:8080
      - 5005:5005
    networks:
      - dummy_net

networks:
   dummy_net:
     external: false

