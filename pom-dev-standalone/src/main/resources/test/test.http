@endpoint=http://192.168.3.21:8080

### 发送jar文件至lib目录
POST {{endpoint}}/api/jar/dep/jars/upload/lib
Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryAFRaG58f2nIb0mPB

------WebKitFormBoundaryAFRaG58f2nIb0mPB
Content-Disposition: form-data; name="file"

title
------WebKitFormBoundaryAFRaG58f2nIb0mPB
Content-Disposition: attachment; name="file"; filename="jar-deploy-api-1.0.0.jar"

< ./target/jar-deploy-api-1.0.0.jar
------WebKitFormBoundaryAFRaG58f2nIb0mPB--

### 查询根目录下的JAR
GET {{endpoint}}/api/jar/dep/jars
Content-Type: application/json
### 查询指定目录下的JAR
GET {{endpoint}}/api/jar/dep/jars
?dir=lib
Content-Type: application/json

### 检查lib的不匹配项
### majar=true 跳过版本号的比较
GET {{endpoint}}/api/jar/dep/mismatch
?baseJar=jar-dependency-api-1.0.0-standalone.jar
&jar=jar-dependency-api-1.0.0.jar
//&major=true
&major=false
Content-Type: application/json

### 返回两个JAR的匹配项
GET {{endpoint}}/api/jar/dep/match
?baseJar=jar-dependency-api-1.0.0-standalone.jar
&jar=jar-dependency-api-1.0.0.jar
&major=true
Content-Type: application/json

### 查询jar依赖+checksum
// type: default: md5l
//   supported: adler32,crc32,crc32c,md5,sha1,sha256,sha512
//   endsWith "l", means padToLong
GET {{endpoint}}/api/jar/dep/checksum
?jar=app.jar
&pattern=jar-dependency
### 查询指定目录lib下的jar依赖
GET {{endpoint}}/api/jar/dep/checksum
?jar=jar-dependency-api-1.0.0.jar
&dir=lib
&type=md5l

### 依据checksum检查两个jar的更新依赖
GET {{endpoint}}/api/jar/dep/checksum/mismatch
?baseJar=jar-dependency-api-1.0.0-standalone.jar
&jar=jar-dependency-api-1.0.0.jar

### 查询指定目录lib下的jar依赖
GET {{endpoint}}/api/jar/dep
?jar=app.jar
&pattern=dependency
### 查询指定目录lib下的jar依赖
GET {{endpoint}}/api/jar/dep
?jar=jar-dependency-api-1.0.0.jar
&dir=lib
&pattern=

### 从JAR解压文件
POST {{endpoint}}/api/jar/dep/extract
Content-Type: application/json

{
    "jar": "app.jar",
    "pattern": "jar-dependency",
    "target": "lib"
}

### 查询指定目录lib下的jar的所有文件
GET {{endpoint}}/api/jar/dep/list
?jar=lombok-1.18.8.jar
&dir=lib
&pattern=PatchFixesHider$ExtensionMethod.class
Content-Type: application/json

### extra file from archiva
POST {{endpoint}}/api/jar/dep/extract
Content-Type: application/json

{
    "dir": "lib",
    "jar": "lombok-1.18.8.jar",
    "pattern": "PatchFixesHider$ExtensionMethod.class",
    "target": "classes"
}


### decompile the javaclass
GET {{endpoint}}/api/jar/dep/decompile
?javaclass=classes/PatchFixesHider$ExtensionMethod.class
&dir=lib
Content-Type: application/json

### decompile from dir
GET {{endpoint}}/api/jar/dep/decompile
?dir=lib/classes
&pattern=PatchFixesHider

### decompile java class from jar directly
// dir: path to locate the jar
// pattern: contains string to match the file in jar 
// target: the target path to save the ext
// empty:  remove the file after decompile when jar is provided
GET {{endpoint}}/api/jar/dep/decompile
?dir=lib
&jar=lombok-1.18.8.jar
&empty=true
&pattern=Builder
&target=classes


### deploy javaclass
POST {{endpoint}}/api/jar/dep/javaclass/deploy
Content-Type: application/json

{
    "dir": "lib",
    "jar": "lombok-1.18.8.jar",
    "javaclass": "classes/PatchFixesHider$ExtensionMethod.class"
}

### 查询指定目录lib下的jar的所有文件
GET {{endpoint}}/api/jar/dep/list
?jar=lombok-1.18.8.jar
&dir=lib
//&pattern=PatchFixesHider$ExtensionMethod.class




### deploy

### 自动查找standalone部署
POST {{endpoint}}/api/jar/dep/from/amFyLWRlcGxveS1hcGktMS4wLjAuamFy
Content-Type: application/json


### 对比两个jar注入
//POST {{endpoint}}/api/jar/dep/checksum/to/{prodJar}/from/{uatJar}
POST {{endpoint}}/api/jar/dep/checksum/to/{prodJar}/from/{uatJar}
Content-Type: application/json


### 注入
### baseJar 不支持[.jar],需转换为BASE64
//POST {{endpoint}}/api/jar/deploy/to/{baseJar}/from/{jar}
// jar-deploy-api-1.0.0-standalone.jar
//  BASE64 Encode: amFyLWRlcGxveS1hcGktMS4wLjAtc3RhbmRhbG9uZS5qYXI=
// lib/jar-deploy-api-1.0.0.jar
//  BASE64 Encode: bGliL2phci1kZXBsb3ktYXBpLTEuMC4wLmphcg==
//
POST {{endpoint}}/api/jar/deploy/to/amFyLWRlcGxveS1hcGktMS4wLjAtc3RhbmRhbG9uZS5qYXI=/from/bGliL2phci1kZXBsb3ktYXBpLTEuMC4wLmphcg==
Content-Type: application/json